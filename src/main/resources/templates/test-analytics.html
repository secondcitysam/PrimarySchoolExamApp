<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <title>Test Analytics</title>
    <link rel="stylesheet" th:href="@{/css/styles.css}">
</head>
<body>
<div th:replace="fragments/teacher-navbar :: body"></div>


<main>
    <div class="card" style="max-width:800px;">
        <h2>Test Analytics</h2>

        <!-- Empty State -->
        <div th:if="${#lists.isEmpty(attempts)}"
             style="text-align:center; color:#6b7280; font-size:15px;">
            No student attempts available for this test.
        </div>

        <!-- Analytics Table -->
        <table th:if="${!#lists.isEmpty(attempts)}"
               style="width:100%; border-collapse:collapse; margin-top:10px;">

            <thead>
            <tr style="text-align:left; border-bottom:1px solid #e5e7eb;">
                <th style="padding:10px 0;">Student</th>
                <th style="padding:10px 0;">Score</th>
                <th style="padding:10px 0;">Status</th>
            </tr>
            </thead>

            <tbody>
            <tr th:each="a : ${attempts}"
                style="border-bottom:1px solid #f1f5f9;">

                <td style="padding:12px 0; font-weight:500;"
                    th:text="${a.student.name}">
                </td>

                <td style="padding:12px 0;"
                    th:text="${a.score}">
                </td>

                <td style="padding:12px 0;">
                <span th:text="${a.submitted ? 'Submitted' : 'Not Submitted'}"
                      th:style="${a.submitted}
                        ? 'color:#16a34a; font-weight:500;'
                        : 'color:#dc2626; font-weight:500;'">
                </span>
                </td>

            </tr>
            </tbody>

        </table>
    </div>

</main>
</body>
</html>
